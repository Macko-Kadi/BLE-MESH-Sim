<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="pl">
<head>
<!-- Generated by javadoc (1.8.0_66) on Fri Mar 09 14:33:19 CET 2018 -->
<title>Node.Reception</title>
<meta name="date" content="2018-03-09">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script type="text/javascript" src="script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Node.Reception";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Node.Reception.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-files/index-1.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="Node.PacketsSource.html" title="class in &lt;Unnamed&gt;"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="Obstacle.html" title="class in &lt;Unnamed&gt;"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="index.html?Node.Reception.html" target="_top">Frames</a></li>
<li><a href="Node.Reception.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h2 title="Class Node.Reception" class="title">Class Node.Reception</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>Node.Reception</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Enclosing class:</dt>
<dd><a href="Node.html" title="class in &lt;Unnamed&gt;">Node</a></dd>
</dl>
<hr>
<br>
<pre>class <span class="typeNameLabel">Node.Reception</span>
extends java.lang.Object</pre>
<div class="block"><pre>
 Act of receiving of a transmission. 
 Even a transmission that can't be successfully received (e.g. when the node phyState is TX (0) or SYNC (1)) is receiving (and influences the synced reception).
 </pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.ArrayList&lt;<a href="Node.Noise.html" title="class in &lt;Unnamed&gt;">Node.Noise</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.Reception.html#noiseDuringTransmission">noiseDuringTransmission</a></span></code>
<div class="block">
 Defines how noise level changes during the transmission - consists of arraylist of Noise (startTime, currentNoiseLvl) objects eg.
 0.0    24
 0.3    26
 0.6    24
 0.8    21
 It means that in time 0.0-0.3 noise level = 24, 0.3-0.6, noise level = 26, and so on
 
 It is collected as in YANS
 
 ATTENTION: At the moment I'm going to calculate one SNR for whole reception period taking into account the highest noise lvl.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.Reception.html#receptionPower">receptionPower</a></span></code>
<div class="block">
 Transmission power decreased by path loss...</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="Transmission.html" title="class in &lt;Unnamed&gt;">Transmission</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.Reception.html#transmission">transmission</a></span></code>
<div class="block">Receiving transmission</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="Node.Reception.html#Reception-Transmission-">Reception</a></span>(<a href="Transmission.html" title="class in &lt;Unnamed&gt;">Transmission</a>&nbsp;transmission_)</code>
<div class="block">Constructor</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.Reception.html#getMaxNoise--">getMaxNoise</a></span>()</code>
<div class="block">The function is helpful for naive approach of SNR calculation.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.Reception.html#getProbabilityOfSuccessfullReception--">getProbabilityOfSuccessfullReception</a></span>()</code>
<div class="block">TODO: How to calculate probability of successfull reception ?</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.Reception.html#getProbabilityOfSuccessfullSync--">getProbabilityOfSuccessfullSync</a></span>()</code>
<div class="block">
 I assumed, that the probability depends directly on SNR 
 If SNR higher than MIN_SNR_SYNC_P1 - P=1, if SNR smaller than MIN_SNR_SYNC_P0 - P=0
 in between - P proportional to the value
 
 TODO: How to calculate probability of successfull synchronization ?</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.Reception.html#getSNR--">getSNR</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.Reception.html#isTheReceptionSuccessfull--">isTheReceptionSuccessfull</a></span>()</code>
<div class="block">Is the reception successfull?</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.Reception.html#isTheSyncSuccessfull--">isTheSyncSuccessfull</a></span>()</code>
<div class="block">Try to synchronize to the receiving transmission</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.Reception.html#trackNoiseLvl-float-">trackNoiseLvl</a></span>(float&nbsp;syncingTransmissionPower)</code>
<div class="block">
 Updates noise lvl seen by the node.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="transmission">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transmission</h4>
<pre>final&nbsp;<a href="Transmission.html" title="class in &lt;Unnamed&gt;">Transmission</a> transmission</pre>
<div class="block">Receiving transmission</div>
</li>
</ul>
<a name="receptionPower">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receptionPower</h4>
<pre>private&nbsp;float receptionPower</pre>
<div class="block"><pre>
 Transmission power decreased by path loss...
 TODO: ... and obstacles !
 </pre></div>
</li>
</ul>
<a name="noiseDuringTransmission">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>noiseDuringTransmission</h4>
<pre>private&nbsp;java.util.ArrayList&lt;<a href="Node.Noise.html" title="class in &lt;Unnamed&gt;">Node.Noise</a>&gt; noiseDuringTransmission</pre>
<div class="block"><pre>
 Defines how noise level changes during the transmission - consists of arraylist of Noise (startTime, currentNoiseLvl) objects eg.
 0.0    24
 0.3    26
 0.6    24
 0.8    21
 It means that in time 0.0-0.3 noise level = 24, 0.3-0.6, noise level = 26, and so on
 
 It is collected as in YANS
 
 ATTENTION: At the moment I'm going to calculate one SNR for whole reception period taking into account the highest noise lvl.
 </pre>
 TODO: Enhance SNR / BER / Ploss relations</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Reception-Transmission-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Reception</h4>
<pre>Reception(<a href="Transmission.html" title="class in &lt;Unnamed&gt;">Transmission</a>&nbsp;transmission_)</pre>
<div class="block">Constructor</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transmission_</code> - </dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="trackNoiseLvl-float-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>trackNoiseLvl</h4>
<pre>private&nbsp;void&nbsp;trackNoiseLvl(float&nbsp;syncingTransmissionPower)</pre>
<div class="block"><pre>
 Updates noise lvl seen by the node. It is a sum of power of all receiving transmissions except the synced one.
 Actually, when syncing process is in progress (so there is no synced transmission), the syncing transmission power should not be counted.
 The easiest way to workaround it, is to get noise level from Medium and subtract the syncing transmission power. (* see source code below)
 Maybe it's not elegant, but otherwise it would need some extra logic - e.g. creation of syncingReception object for the time of syncing.
 If it hurts your eyes, feel free to reimplement. 
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>syncingTransmissionPower</code> - </dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="Helper.html#subDBm-float-float-"><code>Helper.subDBm(float, float)</code></a>, 
<a href="Medium.html#getNoise-byte-"><code>Medium.getNoise(byte)</code></a>, 
<a href="Medium.html#updateNoiseLvlForAReceiver-Node-java.util.ArrayList-"><code>Medium.updateNoiseLvlForAReceiver(Node, java.util.ArrayList&lt;java.lang.Byte&gt;)</code></a></dd>
</dl>
</li>
</ul>
<a name="getSNR--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSNR</h4>
<pre>private&nbsp;float&nbsp;getSNR()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>SNR of the Reception</dd>
</dl>
</li>
</ul>
<a name="getMaxNoise--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxNoise</h4>
<pre>private&nbsp;float&nbsp;getMaxNoise()</pre>
<div class="block">The function is helpful for naive approach of SNR calculation. It provides the worst case scenario - maximum noise level that occures during reception</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The highest noise lvl occured during receiving period</dd>
</dl>
</li>
</ul>
<a name="isTheSyncSuccessfull--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isTheSyncSuccessfull</h4>
<pre>private&nbsp;boolean&nbsp;isTheSyncSuccessfull()</pre>
<div class="block">Try to synchronize to the receiving transmission</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>success or fail of synchronization</dd>
</dl>
</li>
</ul>
<a name="isTheReceptionSuccessfull--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isTheReceptionSuccessfull</h4>
<pre>private&nbsp;boolean&nbsp;isTheReceptionSuccessfull()</pre>
<div class="block">Is the reception successfull?</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>success or fail of the reception</dd>
</dl>
</li>
</ul>
<a name="getProbabilityOfSuccessfullSync--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProbabilityOfSuccessfullSync</h4>
<pre>private&nbsp;float&nbsp;getProbabilityOfSuccessfullSync()</pre>
<div class="block"><pre>
 I assumed, that the probability depends directly on SNR 
 If SNR higher than MIN_SNR_SYNC_P1 - P=1, if SNR smaller than MIN_SNR_SYNC_P0 - P=0
 in between - P proportional to the value
 </pre>
 TODO: How to calculate probability of successfull synchronization ?</div>
</li>
</ul>
<a name="getProbabilityOfSuccessfullReception--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getProbabilityOfSuccessfullReception</h4>
<pre>private&nbsp;float&nbsp;getProbabilityOfSuccessfullReception()</pre>
<div class="block">TODO: How to calculate probability of successfull reception ?
 
 I assume, that the probability depends directly on SNR (but you should calculate BER, include packet size, used bandwidth and so on - same as in YANS)
 If SNR higher than MIN_SNR_RCVD_P1 - P=1, if SNR smaller than MIN_SNR_RCVD_P0 - P=0
 in between - P proportional to the value</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Node.Reception.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-files/index-1.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="Node.PacketsSource.html" title="class in &lt;Unnamed&gt;"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="Obstacle.html" title="class in &lt;Unnamed&gt;"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="index.html?Node.Reception.html" target="_top">Frames</a></li>
<li><a href="Node.Reception.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
